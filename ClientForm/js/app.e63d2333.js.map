{"version":3,"file":"js/app.e63d2333.js","mappings":"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","sources":["webpack://ClientForm/./src/App.vue?2667","webpack://ClientForm/./src/components/ClientForm.vue?8b59","webpack://ClientForm/./src/utils/i18n-validators.js","webpack://ClientForm/./src/utils/validators.js","webpack://ClientForm/./src/fieldStructure.js","webpack://ClientForm/ClientForm.vue","webpack://ClientForm/./src/components/ClientForm.vue?a365","webpack://ClientForm/./src/components/ClientForm.vue","webpack://ClientForm/./src/App.vue?dc76","webpack://ClientForm/./src/App.vue","webpack://ClientForm/./src/main.js","webpack://ClientForm/webpack/bootstrap","webpack://ClientForm/webpack/runtime/chunk loaded","webpack://ClientForm/webpack/runtime/define property getters","webpack://ClientForm/webpack/runtime/global","webpack://ClientForm/webpack/runtime/hasOwnProperty shorthand","webpack://ClientForm/webpack/runtime/jsonp chunk loading","webpack://ClientForm/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c(_setup.ClientForm)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('h2',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s('Новый клиент')+\" \")]),_c('form',{staticClass:\"container\",on:{\"submit\":function($event){$event.preventDefault();return _setup.submit.apply(null, arguments)}}},[_vm._l((_setup.fieldStructure),function(category,n){return _c('div',{key:n,staticClass:\"category\"},[_c('h3',[_vm._v(_vm._s(category.loc))]),_c('ul',_vm._l((category.children),function(field){return _c('li',{key:field.id,staticClass:\"field\",class:{'has-error': _setup.v$[field.id].$errors.length}},[_c('label',{staticClass:\"label\"},[_vm._v(\" \"+_vm._s(field.loc)+\" \"+_vm._s(field.req ? '*' : ''))]),(field.type === 'selector' || field.type === 'multi-selector')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_setup.v$[field.id].$model),expression:\"v$[field.id].$model\"}],attrs:{\"multiple\":field.type === 'multi-selector'},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_setup.v$[field.id], \"$model\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((field.children),function(child,j){return _c('option',{key:j},[_vm._v(\" \"+_vm._s(child)+\" \")])}),0):((field.type)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_setup.v$[field.id].$model),expression:\"v$[field.id].$model\"}],staticClass:\"field-input\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_setup.v$[field.id].$model)?_vm._i(_setup.v$[field.id].$model,null)>-1:(_setup.v$[field.id].$model)},on:{\"change\":function($event){var $$a=_setup.v$[field.id].$model,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_setup.v$[field.id], \"$model\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_setup.v$[field.id], \"$model\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_setup.v$[field.id], \"$model\", $$c)}}}}):((field.type)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_setup.v$[field.id].$model),expression:\"v$[field.id].$model\"}],staticClass:\"field-input\",attrs:{\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_setup.v$[field.id].$model,null)},on:{\"change\":function($event){return _vm.$set(_setup.v$[field.id], \"$model\", null)}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_setup.v$[field.id].$model),expression:\"v$[field.id].$model\"}],staticClass:\"field-input\",attrs:{\"type\":field.type},domProps:{\"value\":(_setup.v$[field.id].$model)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_setup.v$[field.id], \"$model\", $event.target.value)}}}),_c('div',{staticClass:\"errors\"},[(_setup.v$[field.id].$errors.length)?_c('div',{staticClass:\"error-msg\"},[_c('span',[_vm._v(_vm._s(_setup.v$[field.id].$errors[0].$message))])]):_vm._e()])])}),0)])}),_c('div',{staticClass:\"submit\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"submit\",\"disabled\":_setup.submitStatus === 'PENDING'}},[_vm._v(\" Отправить! \")]),(_setup.submitStatus === 'OK')?_c('p',[_vm._v(\" Спасибо за заявку! \")]):_vm._e(),(_setup.submitStatus === 'ERROR')?_c('p',[_vm._v(\" Пожалуйста, заполните форму правильно. \")]):_vm._e(),(_setup.submitStatus === 'PENDING')?_c('p',[_vm._v(\" Отправка... \")]):_vm._e()])],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as validators from '@vuelidate/validators';\n\nimport ruLocale from '../locales/ru.json';\n\nconst {createI18nMessage} = validators;\nconst withI18nMessage = createI18nMessage({t});\n\nexport const required = withI18nMessage(validators.required);\n\n/**\n * да, это i18n !\n * @param {string} key\n * @return {string}\n */\nexport function t(key) {\n    if (key in ruLocale) {\n        return ruLocale[key];\n    }\n    return key;\n}\n","import {t} from '@/utils/i18n-validators';\n\nexport const phoneValidator = {\n    $validator: function phoneValidator(v) {\n        return v.startsWith('7') && v.length === 11;\n    },\n    $message: t('invalidPhone'),\n    $params: {\n        type: 'phoneValidator',\n    },\n};\n","import {phoneValidator} from '@/utils/validators';\n\nexport default {\n    attribute: {\n        loc: 'Атрибуты формы',\n        children: [\n            {\n                id: 'LastName',\n                type: 'text',\n                loc: 'Фамилия',\n                req: true,\n            },\n            {\n                id: 'FirstName',\n                type: 'text',\n                loc: 'Имя',\n                req: true,\n            },\n            {\n                id: 'Patronymic',\n                type: 'text',\n                loc: 'Отчество',\n            },\n            {\n                id: 'PhoneNumber',\n                type: 'number',\n                loc: 'Номер телефона',\n                req: true,\n                min: 11,\n                validator: phoneValidator,\n            },\n            {\n                id: 'Sex',\n                type: 'selector',\n                loc: 'Пол',\n                children: ['Мужщчина', 'Женщина'],\n            },\n            {\n                id: 'ClientGroups',\n                type: 'multi-selector',\n                loc: 'Группа клиентов',\n                req: true,\n                children: ['VIP', 'Проблемные', 'ОМС'],\n            },\n            {\n                id: 'Doctor',\n                type: 'selector',\n                loc: 'Лечащий врач',\n                children: ['Иванов', 'Захаров', 'Чернышева'],\n            },\n            {\n                id: 'NotSendSMS',\n                type: 'checkbox',\n                loc: 'Не отправлять СМС',\n            },\n        ],\n    },\n    address: {\n        loc: 'Адрес',\n        children: [\n            {\n                id: 'AddressIndex',\n                type: 'number',\n                loc: 'Индекс',\n            },\n            {\n                id: 'AddressCountry',\n                type: 'text',\n                loc: 'Страна',\n            },\n            {\n                id: 'AddressRegion',\n                type: 'text',\n                loc: 'Область',\n            },\n            {\n                id: 'AddressCity',\n                type: 'text',\n                loc: 'Город',\n                req: true,\n            },\n            {\n                id: 'AddressStreet',\n                type: 'text',\n                loc: 'Улица',\n            },\n            {\n                id: 'AddressHome',\n                type: 'number',\n                loc: 'Дом',\n            },\n        ],\n    },\n    identifier: {\n        loc: 'Паспорт',\n        children: [\n            {\n                id: 'IdentifierType',\n                type: 'selector',\n                loc: 'Тип документа',\n                req: true,\n                children: ['Паспорт', 'Свидетельство о рождении', 'Вод. удостоверение'],\n            },\n            {\n                id: 'IdentifierSerial',\n                type: 'number',\n                loc: 'Серия',\n            },\n            {\n                id: 'IdentifierNumber',\n                type: 'number',\n                loc: 'Номер',\n            },\n            {\n                id: 'IdentifierWhoDal',\n                type: 'text',\n                loc: 'Кем выдан',\n            },\n            {\n                id: 'IdentifierDate',\n                type: 'date',\n                loc: 'Дата выдачи',\n                req: true,\n            },\n        ],\n    },\n};\n","<template>\n  <div>\n    <h2 class=\"title\">\n      {{ 'Новый клиент' }}\n    </h2>\n\n    <form\n      class=\"container\"\n      @submit.prevent=\"submit\"\n    >\n      <div\n        v-for=\"(category, n) in fieldStructure\"\n        :key=\"n\"\n        class=\"category\"\n      >\n        <h3>{{ category.loc }}</h3>\n\n        <ul>\n          <li\n            v-for=\"field in category.children\"\n            :key=\"field.id\"\n            class=\"field\"\n            :class=\"{'has-error': v$[field.id].$errors.length}\"\n          >\n            <label class=\"label\"> {{ field.loc }} {{ field.req ? '*' : '' }}</label>\n\n            <select\n              v-if=\"field.type === 'selector' || field.type === 'multi-selector'\"\n              v-model=\"v$[field.id].$model\"\n              :multiple=\"field.type === 'multi-selector'\"\n            >\n              <option\n                v-for=\"(child, j) in field.children\"\n                :key=\"j\"\n              >\n                {{ child }}\n              </option>\n            </select>\n\n            <input\n              v-else\n              v-model=\"v$[field.id].$model\"\n              :type=\"field.type\"\n              class=\"field-input\"\n            >\n\n\n            <div class=\"errors\">\n              <div\n                v-if=\"v$[field.id].$errors.length\"\n                class=\"error-msg\"\n              >\n                <span>{{ v$[field.id].$errors[0].$message }}</span>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"submit\">\n        <button\n          class=\"button\"\n          type=\"submit\"\n          :disabled=\"submitStatus === 'PENDING'\"\n        >\n          Отправить!\n        </button>\n\n        <p v-if=\"submitStatus === 'OK'\">\n          Спасибо за заявку!\n        </p>\n        <p v-if=\"submitStatus === 'ERROR'\">\n          Пожалуйста, заполните форму правильно.\n        </p>\n        <p v-if=\"submitStatus === 'PENDING'\">\n          Отправка...\n        </p>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script setup>\nimport {reactive, ref} from 'vue';\nimport {useVuelidate} from '@vuelidate/core';\nimport {required} from '@/utils/i18n-validators';\n\nimport fieldStructure from '@/fieldStructure';\n\n/**\n * @type Record<string, {id: string, type: string, loc: string, req?: boolean, children?: string[], min?: number, validator?: function}>\n */\nconst allFields = Object.values(fieldStructure).reduce((acc, category) => ({\n    ...acc,\n    ...category.children.reduce((acc, field) => ({\n        ...acc, [field.id]: field,\n    }), {}),\n}), {});\nconst state = reactive(Object.fromEntries(\n    Object.entries(allFields).map(([key, field]) => [\n        key,\n        (field.type === 'checkbox' ? false : field.type === 'multi-selector' ? [] : ''),\n    ]),\n));\nconst rules = Object.fromEntries(\n    Object.entries(allFields).map(([key, field]) => [\n        key,\n        {\n            ...(field.req ? {required} : {}),\n            ...(field.validator ? {validator: field.validator} : {}),\n        },\n    ]),\n);\n\nconst v$ = useVuelidate(rules, state);\nconst submitStatus = ref('');\n\n\n/**\n * @return {Promise<void>}\n */\nasync function submit() {\n    const result = await v$.value.$validate();\n\n    if (!result) {\n        submitStatus.value = 'ERROR';\n    } else {\n        // do your submit logic here\n        console.log(JSON.stringify(state));\n        submitStatus.value = 'PENDING';\n        setTimeout(() => {\n            submitStatus.value = 'OK';\n        }, 500);\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n$errorColor: #f57f6c;\n\n.title {\n  margin-top: 20px;\n  text-align: center;\n}\n.container {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  max-width: 1500px;\n  margin: 5% auto;\n  justify-content: center;\n  padding: 0 10%;\n\n  @media screen and (max-width: 1000px) {\n    grid-template-columns: 1fr;\n    padding: 0 5%;\n  }\n\n  .submit {\n    margin-top: 5%;\n    margin-bottom: 5%;\n\n    button {\n      padding: 10px;\n      //border: none;\n    }\n    p {\n      position: absolute;\n      margin-top: 5px;\n    }\n  }\n}\n\n.field {\n  list-style: none;\n  padding: 2%;\n  margin-bottom: 2%;\n\n  label {\n    font-size: 80%;\n  }\n  input:not([type=\"checkbox\"]), select {\n    margin-top: 5px;\n    width: 100%;\n    height: 30px;\n    border-radius: 5px;\n    border-style: solid;\n  }\n  input[type=\"checkbox\"] {\n    margin-left: 10%;\n    width: 15px;\n    height: 15px;\n  }\n  select[multiple] {\n    height: 100%;\n    padding: 10px;\n  }\n\n  .errors {\n    position: absolute;\n    font-size: 70%;\n    margin-top: 2px;\n  }\n}\n.has-error {\n  color: $errorColor;\n\n  animation-name: shakeError;\n  animation-fill-mode: forwards;\n  animation-duration: .5s;\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: 2;\n\n  input {\n    border-color: $errorColor;;\n  }\n\n  @keyframes shakeError {\n    0% {transform: translateX(0);}\n    25% {transform: translateX(-.375rem);}\n    50% {transform: translateX(.375rem);}\n    75% {transform: translateX(-.375rem);}\n    100% {transform: translateX(0);}\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClientForm.vue?vue&type=script&setup=true&lang=js\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClientForm.vue?vue&type=script&setup=true&lang=js\"","import { render, staticRenderFns } from \"./ClientForm.vue?vue&type=template&id=0cc65d42&scoped=true\"\nimport script from \"./ClientForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ClientForm.vue?vue&type=script&setup=true&lang=js\"\nimport style0 from \"./ClientForm.vue?vue&type=style&index=0&id=0cc65d42&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cc65d42\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&setup=true&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&setup=true&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=44e13fc6&scoped=true\"\nimport script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=44e13fc6&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44e13fc6\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport App from './App.vue';\nimport './style/main.css';\n\n\nVue.config.productionTip = false;\nVue.config.devtools = true;\n\n\nnew Vue({\n    render: (h) => h(App),\n}).$mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkClientForm\"] = self[\"webpackChunkClientForm\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], () => (__webpack_require__(670)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","_setup","_setupProxy","ClientForm","staticRenderFns","staticClass","_v","_s","on","$event","preventDefault","submit","apply","arguments","_l","category","n","key","loc","field","id","class","v$","$errors","length","req","type","directives","name","rawName","value","expression","attrs","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","child","j","domProps","isArray","$model","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","_q","composing","$message","_e","submitStatus","createI18nMessage","withI18nMessage","t","required","phoneValidator","$validator","v","startsWith","$params","attribute","children","min","validator","address","identifier","allFields","Object","values","fieldStructure","reduce","acc","state","fromEntries","entries","rules","async","result","$validate","console","log","JSON","stringify","setTimeout","component","config","productionTip","devtools","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","keys","every","splice","r","d","definition","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}